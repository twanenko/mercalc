(this.webpackJsonpmercalc=this.webpackJsonpmercalc||[]).push([[0],{75:function(e,t,a){e.exports=a(91)},80:function(e,t,a){},91:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(11),l=a.n(r),o=(a(80),a(12)),i=a(134),u=a(152),m=a(142),d=a(146),s=a(44),f=a(43),b=a(45),p=a(46),E=a(148),v=a(147),g={timer:"",updateTimer:function(){}},j=Object(n.createContext)(g),O={prayed:"0%",updatePrayed:function(){}},y=Object(n.createContext)(O),h=function(){var e=Object(n.useState)(O.prayed),t=Object(o.a)(e,2),a=t[0],c=t[1];return{prayed:a,updatePrayed:Object(n.useCallback)((function(e){c(e)}),[])}},x={myGuild:"",updateMyGuild:function(){}},C=Object(n.createContext)(x),k=a(137),S=a(139),w=a(149),G=a(136),P=a(150),L=function(e){var t=e.minute,a=e.name,r=e.cardStyle,l=e.seedList,m=Object(i.a)((function(e){return Object(u.a)({card:{backgroundColor:r.backgroundColor,color:r.color,padding:e.spacing(2)}})}))(),d=Object(G.a)({stringify:function(e){var t=e.name.replace(/[\u30a1-\u30f6]/g,(function(e){var t=e.charCodeAt(0)-96;return String.fromCharCode(t)}));return"".concat(e.name,"_").concat(t)}}),s=Object(n.useContext)(y),f=t,b=Object(n.useState)(f),p=Object(o.a)(b,2),E=p[0],v=p[1],g=Object(n.useState)(null),j=Object(o.a)(g,2),O=j[0],h=j[1],x=Object(n.useState)(0),C=Object(o.a)(x,2),L=C[0],M=C[1];return Object(n.useEffect)((function(){if(O&&L){var e=O.hp,t=Math.round(100*(L/e-1)),a=t>0?t:0;s.updatePrayed("".concat(a.toLocaleString(),"%@").concat(E))}}),[O,L,s,E]),c.a.createElement("div",null,c.a.createElement(k.a,{className:m.card},c.a.createElement(S.a,null,a,": ",s.prayed,l?c.a.createElement(P.a,{options:l,getOptionLabel:function(e){return e.name},getOptionSelected:function(e,t){return e.name===t.name},filterOptions:d,autoSelect:!0,onChange:function(e,a){h(a),v(t)},renderInput:function(e){return c.a.createElement(w.a,Object.assign({},e,{label:"\u30b7\u30fc\u30c9\u540d",variant:"outlined",margin:"dense"}))}}):c.a.createElement("div",null,c.a.createElement("p",null,"\u30b7\u30fc\u30c9\u60c5\u5831\u3092\u8aad\u307f\u8fbc\u307f\u4e2d")),c.a.createElement(w.a,{label:"\u30e2\u30f3\u30b9\u30bf\u30fc\u306e\u4f53\u529b",onChange:function(e){M(+e.target.value),v(t)},fullWidth:!0,variant:"outlined",margin:"dense"}))))},M=a(4),N=a(151),H=a(155),I=a(143),B=a(154),T=a(96),D=Object(M.a)({root:{color:m.a[400],"&$checked":{color:m.a[600]}},checked:{}})((function(e){return c.a.createElement(N.a,e)})),W=Object(M.a)({root:{color:s.a[400],"&$checked":{color:s.a[600]}},checked:{}})((function(e){return c.a.createElement(N.a,e)})),$=Object(M.a)({root:{color:b.a[400],"&$checked":{color:b.a[600]}},checked:{}})((function(e){return c.a.createElement(N.a,e)})),A=Object(M.a)({root:{color:p.a[400],"&$checked":{color:p.a[600]}},checked:{}})((function(e){return c.a.createElement(N.a,e)})),z=function(){var e=Object(n.useContext)(C),t=Object(n.useState)(""),a=Object(o.a)(t,2),r=a[0],l=a[1];return Object(n.useEffect)((function(){e.updateMyGuild(r)}),[e,r]),c.a.createElement("div",null,c.a.createElement(B.a,{component:"fieldset"},c.a.createElement(T.a,{component:"legend",style:{color:"white"}},"\u81ea\u5206\u306e\u30ae\u30eb\u30c9"),c.a.createElement(H.a,{row:!0,"aria-label":"my-guild",name:"my-guild",value:r,onChange:function(t){l(t.target.value),e.updateMyGuild(r)}},c.a.createElement(I.a,{value:"yellow",control:c.a.createElement(D,null),label:"\u5de6\u4e0a(\u9ec4)"}),c.a.createElement(I.a,{value:"red",control:c.a.createElement(W,null),label:"\u53f3\u4e0a(\u8d64)"}),c.a.createElement(I.a,{value:"blue",control:c.a.createElement($,null),label:"\u5de6\u4e0b(\u9752)"}),c.a.createElement(I.a,{value:"green",control:c.a.createElement(A,null),label:"\u53f3\u4e0b(\u7dd1)"}))))},R=a(59),J=a.n(R),K=function(){var e=Object(n.useContext)(j),t=Object(n.useState)(0),a=Object(o.a)(t,2),r=a[0],l=a[1];Object(n.useEffect)((function(){var e=(new Date).getTime(),t=["https://ntp-a1.nict.go.jp/cgi-bin/json","https://ntp-b1.nict.go.jp/cgi-bin/json"][Math.floor(2*Math.random())];fetch("".concat(t,"?").concat(e/1e3)).then((function(e){return e.json()})).then((function(t){l(1e3*t.st+(e-1e3*t.it)/2-e)}))}),[]);var i=Object(n.useState)(""),u=Object(o.a)(i,2),m=u[0],d=u[1];return Object(n.useEffect)((function(){var e=setInterval((function(){return d(J()((new Date).getTime()+r).format("HH\u6642 mm\u5206 ss.SS\u79d2"))}),10);return function(){return clearInterval(e)}}),[r]),Object(n.useEffect)((function(){var t=m.match(/\d{2}\u5206/g);e.updateTimer(t?t[0]:"")}),[e,m]),c.a.createElement("div",null,c.a.createElement("p",null,"\u73fe\u5728\u6642\u523b: ",m))},Y=a(141),_=a(153),q=a(140),F=a(144),Q=a(61),V=a.n(Q),U=a(145),X=a(60),Z=a.n(X),ee=Object(i.a)((function(e){return Object(u.a)({root:{padding:"0 0 1em"},text:{borderColor:"white",color:"white"}})})),te=function(e){var t=e.value,a=ee(),r=Object(n.useState)(!1),l=Object(o.a)(r,2),i=l[0],u=l[1];return c.a.createElement("div",{className:a.root},c.a.createElement(B.a,{variant:"outlined",fullWidth:!0},c.a.createElement(Y.a,{htmlFor:"summery",className:a.text},"\u30b3\u30d4\u30da\u7528"),c.a.createElement(_.a,{className:a.text,id:"summery",margin:"dense",type:"text",value:t,startAdornment:c.a.createElement(F.a,{position:"start"},c.a.createElement(U.a,{arrow:!0,open:i,onClose:function(){u(!1)},disableHoverListener:!0,placement:"top",title:"copied"},c.a.createElement(Z.a,{text:t},c.a.createElement(q.a,{disabled:""===t,onClick:function(){u(!0)}},c.a.createElement(V.a,{className:a.text})))))})))},ae=Object(i.a)((function(e){return Object(u.a)({app:{backgroundColor:"#282c34",color:"white"},appHeader:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",fontSize:"calc(10px + 2vmin)"},appMain:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100vh",fontSize:"calc(10px + 2vmin)"},container:{flexGrow:1},text:{color:"white"}})})),ne={guildY:{backgroundColor:m.a[100],color:d.a[600]},guildR:{backgroundColor:s.a[100],color:s.a[900]},gate:{backgroundColor:f.a[200],color:f.a[900]},guildB:{backgroundColor:b.a[100],color:b.a[900]},guildG:{backgroundColor:p.a[100],color:p.a[900]}},ce=function(){var e=ae(),t=Object(n.useState)(null),a=Object(o.a)(t,2),r=a[0],l=a[1];Object(n.useEffect)((function(){fetch("https://script.google.com/macros/s/AKfycbyt5WB_eEoamADwxePfKQxk3umq5khBbCeaIdRnLOTCeVHzkj0/exec").then((function(e){return e.json()})).then((function(e){l(e)}))}),[]);var i=function(){var e=Object(n.useState)(g.timer),t=Object(o.a)(e,2),a=t[0],c=t[1];return{timer:a,updateTimer:Object(n.useCallback)((function(e){c(e)}),[])}}(),u=h(),m=h(),d=h(),s=h(),f=h(),b=function(){var e=Object(n.useState)(x.myGuild),t=Object(o.a)(e,2),a=t[0],c=t[1];return{myGuild:a,updateMyGuild:Object(n.useCallback)((function(e){c(e)}),[])}}(),p=Object(n.useState)(""),O=Object(o.a)(p,2),k=O[0],S=O[1];return Object(n.useEffect)((function(){var e="yellow"!==b.myGuild?"\u5de6\u4e0a(\u9ec4):".concat(u.prayed," "):"",t="red"!==b.myGuild?"\u53f3\u4e0a(\u8d64):".concat(m.prayed," "):"",a="\u30b2\u30fc\u30c8(\u9580):".concat(d.prayed," "),n="blue"!==b.myGuild?"\u5de6\u4e0b(\u9752):".concat(s.prayed," "):"",c="green"!==b.myGuild?"\u53f3\u4e0b(\u7dd1):".concat(f.prayed):"",r="".concat(e).concat(t).concat(a).concat(n).concat(c);S(r)}),[d.prayed,s.prayed,f.prayed,m.prayed,u.prayed,b.myGuild]),c.a.createElement("div",{className:e.app},c.a.createElement("div",{className:e.appHeader},c.a.createElement("p",null,"\u30e1\u30eb\u30b9\u30c8\u304a\u7948\u308a\u8a08\u7b97\u6a5f")),c.a.createElement("main",{className:e.appMain},c.a.createElement(v.a,{className:e.container},c.a.createElement(j.Provider,{value:i},c.a.createElement(K,null)),c.a.createElement(C.Provider,{value:b},c.a.createElement(z,null)),c.a.createElement(te,{value:k}),c.a.createElement(E.a,{container:!0,spacing:3},c.a.createElement(E.a,{item:!0,xs:12,sm:5},c.a.createElement(y.Provider,{value:u},c.a.createElement(L,{name:"\u5de6\u4e0a(\u9ec4)",cardStyle:ne.guildY,minute:i.timer,seedList:r}))),c.a.createElement(E.a,{item:!0,xs:!1,sm:2}),c.a.createElement(E.a,{item:!0,xs:12,sm:5},c.a.createElement(y.Provider,{value:m},c.a.createElement(L,{name:"\u53f3\u4e0a(\u8d64)",cardStyle:ne.guildR,minute:i.timer,seedList:r})))),c.a.createElement(E.a,{container:!0,spacing:3},c.a.createElement(E.a,{item:!0,xs:!1,sm:3}),c.a.createElement(E.a,{item:!0,xs:12,sm:6},c.a.createElement(y.Provider,{value:d},c.a.createElement(L,{name:"\u30b2\u30fc\u30c8(\u9580)",cardStyle:ne.gate,minute:i.timer,seedList:r}))),c.a.createElement(E.a,{item:!0,xs:!1,sm:3})),c.a.createElement(E.a,{container:!0,spacing:3},c.a.createElement(E.a,{item:!0,xs:12,sm:5},c.a.createElement(y.Provider,{value:s},c.a.createElement(L,{name:"\u5de6\u4e0b(\u9752)",cardStyle:ne.guildB,minute:i.timer,seedList:r}))),c.a.createElement(E.a,{item:!0,xs:!1,sm:2}),c.a.createElement(E.a,{item:!0,xs:12,sm:5},c.a.createElement(y.Provider,{value:f},c.a.createElement(L,{name:"\u53f3\u4e0b(\u7dd1)",cardStyle:ne.guildG,minute:i.timer,seedList:r}))))),c.a.createElement("span",null,"tw: @twanenko")))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(ce,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[75,1,2]]]);
//# sourceMappingURL=main.a542a27a.chunk.js.map