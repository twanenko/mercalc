(this.webpackJsonpmercalc=this.webpackJsonpmercalc||[]).push([[0],{62:function(e,t,a){e.exports=a(74)},67:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(10),l=a.n(r),o=(a(67),a(12)),u=a(114),i=a(131),m=a(124),d=a(125),s=a(38),b=a(37),f=a(39),E=a(40),p=a(127),j=a(126),g=a(128),O={timer:"",updateTimer:function(){}},v=Object(n.createContext)(O),h={prayed:"0%",updatePrayed:function(){}},y=Object(n.createContext)(h),k=function(){var e=Object(n.useState)(h.prayed),t=Object(o.a)(e,2),a=t[0],c=t[1];return{prayed:a,updatePrayed:Object(n.useCallback)((function(e){c(e)}),[])}},x={myGuild:"",updateMyGuild:function(){}},C=Object(n.createContext)(x),S=a(118),w=a(120),G=a(117),P=a(129),L=function(e){var t=e.minute,a=e.name,r=e.cardStyle,l=e.seedList,m=Object(u.a)((function(e){return Object(i.a)({card:{backgroundColor:r.backgroundColor,color:r.color,padding:e.spacing(2)}})}))(),d=Object(G.a)({stringify:function(e){var t=e.name.replace(/[\u30a1-\u30f6]/g,(function(e){var t=e.charCodeAt(0)-96;return String.fromCharCode(t)}));return"".concat(e.name,"_").concat(t)}}),s=Object(n.useContext)(y),b=t,f=Object(n.useState)(b),E=Object(o.a)(f,2),p=E[0],j=E[1],O=Object(n.useState)(null),v=Object(o.a)(O,2),h=v[0],k=v[1],x=Object(n.useState)(0),C=Object(o.a)(x,2),L=C[0],M=C[1];return Object(n.useEffect)((function(){if(h&&L){var e=h.hp,t=Math.round(100*(L/e-1));t<0?s.updatePrayed("0%(".concat(p,")")):s.updatePrayed("".concat(t.toLocaleString(),"%(").concat(p,")"))}}),[h,L,s,p]),c.a.createElement("div",null,c.a.createElement(S.a,{className:m.card},c.a.createElement(w.a,null,a,": ",s.prayed,l?c.a.createElement(P.a,{options:l,getOptionLabel:function(e){return e.name},getOptionSelected:function(e,t){return e.name===t.name},filterOptions:d,autoSelect:!0,onChange:function(e,a){k(a),j(t)},renderInput:function(e){return c.a.createElement(g.a,Object.assign({},e,{label:"\u30b7\u30fc\u30c9\u540d",margin:"normal"}))}}):c.a.createElement("div",null,c.a.createElement("p",null,"\u30b7\u30fc\u30c9\u60c5\u5831\u3092\u8aad\u307f\u8fbc\u307f\u4e2d")),c.a.createElement(g.a,{label:"\u30e2\u30f3\u30b9\u30bf\u30fc\u306e\u4f53\u529b",fullWidth:!0,onChange:function(e){M(+e.target.value),j(t)}}))))},M=a(4),N=a(130),A=a(133),I=a(134),B=a(132),T=a(123),W=Object(M.a)({root:{color:m.a[400],"&$checked":{color:m.a[600]}},checked:{}})((function(e){return c.a.createElement(N.a,e)})),$=Object(M.a)({root:{color:s.a[400],"&$checked":{color:s.a[600]}},checked:{}})((function(e){return c.a.createElement(N.a,e)})),D=Object(M.a)({root:{color:f.a[400],"&$checked":{color:f.a[600]}},checked:{}})((function(e){return c.a.createElement(N.a,e)})),H=Object(M.a)({root:{color:E.a[400],"&$checked":{color:E.a[600]}},checked:{}})((function(e){return c.a.createElement(N.a,e)})),R=function(){var e=Object(n.useContext)(C),t=Object(n.useState)(""),a=Object(o.a)(t,2),r=a[0],l=a[1];return Object(n.useEffect)((function(){e.updateMyGuild(r)}),[e,r]),c.a.createElement("div",null,c.a.createElement(B.a,{component:"fieldset"},c.a.createElement(T.a,{component:"legend",style:{color:"white"}},"\u81ea\u5206\u306e\u30ae\u30eb\u30c9"),c.a.createElement(A.a,{row:!0,"aria-label":"my-guild",name:"my-guild",value:r,onChange:function(t){l(t.target.value),e.updateMyGuild(r)}},c.a.createElement(I.a,{value:"yellow",control:c.a.createElement(W,null),label:"\u5de6\u4e0a(\u9ec4)"}),c.a.createElement(I.a,{value:"red",control:c.a.createElement($,null),label:"\u53f3\u4e0a(\u8d64)"}),c.a.createElement(I.a,{value:"blue",control:c.a.createElement(D,null),label:"\u5de6\u4e0b(\u9752)"}),c.a.createElement(I.a,{value:"green",control:c.a.createElement(H,null),label:"\u53f3\u4e0b(\u7dd1)"}))))},J=a(51),K=a.n(J),Y=function(){var e=Object(n.useContext)(v),t=Object(n.useState)(0),a=Object(o.a)(t,2),r=a[0],l=a[1];Object(n.useEffect)((function(){var e=(new Date).getTime(),t=["https://ntp-a1.nict.go.jp/cgi-bin/json","https://ntp-b1.nict.go.jp/cgi-bin/json"][Math.floor(2*Math.random())];fetch("".concat(t,"?").concat(e/1e3)).then((function(e){return e.json()})).then((function(t){l(1e3*t.st+(e-1e3*t.it)/2-e)}))}),[]);var u=Object(n.useState)(""),i=Object(o.a)(u,2),m=i[0],d=i[1];return Object(n.useEffect)((function(){var e=setInterval((function(){return d(K()((new Date).getTime()+r).format("HH\u6642 mm\u5206 ss.SS\u79d2"))}),10);return function(){return clearInterval(e)}}),[r]),Object(n.useEffect)((function(){var t=m.match(/\d{2}\u5206/g);e.updateTimer(t?t[0]:"")}),[e,m]),c.a.createElement("header",{className:"App-header"},c.a.createElement("p",null,"\u73fe\u5728\u6642\u523b: ",m))},_=(a(73),Object(u.a)((function(e){return Object(i.a)({root:{flexGrow:1,maxWidth:"sm"},text:{color:"white"}})}))),q={guildY:{backgroundColor:m.a[100],color:d.a[600]},guildR:{backgroundColor:s.a[100],color:s.a[900]},gate:{backgroundColor:b.a[200],color:b.a[900]},guildB:{backgroundColor:f.a[100],color:f.a[900]},guildG:{backgroundColor:E.a[100],color:E.a[900]}},z=function(){var e=_(),t=Object(n.useState)(null),a=Object(o.a)(t,2),r=a[0],l=a[1];Object(n.useEffect)((function(){fetch("https://script.google.com/macros/s/AKfycbyt5WB_eEoamADwxePfKQxk3umq5khBbCeaIdRnLOTCeVHzkj0/exec").then((function(e){return e.json()})).then((function(e){l(e)}))}),[]);var u=function(){var e=Object(n.useState)(O.timer),t=Object(o.a)(e,2),a=t[0],c=t[1];return{timer:a,updateTimer:Object(n.useCallback)((function(e){c(e)}),[])}}(),i=k(),m=k(),d=k(),s=k(),b=k(),f=function(){var e=Object(n.useState)(x.myGuild),t=Object(o.a)(e,2),a=t[0],c=t[1];return{myGuild:a,updateMyGuild:Object(n.useCallback)((function(e){c(e)}),[])}}(),E=Object(n.useState)(""),h=Object(o.a)(E,2),S=h[0],w=h[1];return Object(n.useEffect)((function(){var e="yellow"!==f.myGuild?"\u5de6\u4e0a(\u9ec4):".concat(i.prayed," "):"",t="red"!==f.myGuild?"\u53f3\u4e0a(\u8d64):".concat(m.prayed," "):"",a="\u30b2\u30fc\u30c8:".concat(d.prayed," "),n="blue"!==f.myGuild?"\u5de6\u4e0b(\u9752):".concat(s.prayed," "):"",c="green"!==f.myGuild?"\u53f3\u4e0b(\u7dd1):".concat(b.prayed):"",r="".concat(e).concat(t).concat(a).concat(n).concat(c);w(r)}),[d.prayed,s.prayed,b.prayed,m.prayed,i.prayed,f.myGuild]),c.a.createElement("div",{className:"App"},c.a.createElement("div",{className:"App-header"},c.a.createElement("p",null,"\u30e1\u30eb\u30b9\u30c8\u304a\u7948\u308a\u8a08\u7b97\u6a5f")),c.a.createElement("main",{className:"App-main"},c.a.createElement(j.a,{className:e.root},c.a.createElement(C.Provider,{value:f},c.a.createElement(R,null)),c.a.createElement(g.a,{InputLabelProps:{className:e.text},label:"\u30b3\u30d4\u30da\u7528",fullWidth:!0,InputProps:{className:e.text},value:S}),c.a.createElement(v.Provider,{value:u},c.a.createElement(Y,null)),c.a.createElement(p.a,{container:!0,spacing:3},c.a.createElement(p.a,{item:!0,xs:!0},c.a.createElement(y.Provider,{value:i},c.a.createElement(L,{name:"\u5de6\u4e0a(\u9ec4)",cardStyle:q.guildY,minute:u.timer,seedList:r}))),c.a.createElement(p.a,{item:!0,xs:!0}),c.a.createElement(p.a,{item:!0,xs:!0},c.a.createElement(y.Provider,{value:m},c.a.createElement(L,{name:"\u53f3\u4e0a(\u8d64)",cardStyle:q.guildR,minute:u.timer,seedList:r})))),c.a.createElement(p.a,{container:!0,spacing:3},c.a.createElement(p.a,{item:!0,xs:!0}),c.a.createElement(p.a,{item:!0,xs:!0},c.a.createElement(y.Provider,{value:d},c.a.createElement(L,{name:"\u30b2\u30fc\u30c8",cardStyle:q.gate,minute:u.timer,seedList:r}))),c.a.createElement(p.a,{item:!0,xs:!0})),c.a.createElement(p.a,{container:!0,spacing:3},c.a.createElement(p.a,{item:!0,xs:!0},c.a.createElement(y.Provider,{value:s},c.a.createElement(L,{name:"\u5de6\u4e0b(\u9752)",cardStyle:q.guildB,minute:u.timer,seedList:r}))),c.a.createElement(p.a,{item:!0,xs:!0}),c.a.createElement(p.a,{item:!0,xs:!0},c.a.createElement(y.Provider,{value:b},c.a.createElement(L,{name:"\u53f3\u4e0b(\u7dd1)",cardStyle:q.guildG,minute:u.timer,seedList:r}))))),c.a.createElement("span",null,"tw: @twanenko")))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(z,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[62,1,2]]]);
//# sourceMappingURL=main.81d4a9f6.chunk.js.map