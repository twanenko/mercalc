(this.webpackJsonpmercalc=this.webpackJsonpmercalc||[]).push([[0],{78:function(e,t,a){e.exports=a(94)},83:function(e,t,a){},94:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(11),l=a.n(r),o=(a(83),a(12)),i=a(138),u=a(157),m=a(148),s=a(152),d=a(46),b=a(45),f=a(47),E=a(48),p=a(147),v=a(153),g={timer:"",updateTimer:function(){}},j=Object(n.createContext)(g),O={prayed:"0%",updatePrayed:function(){}},y=Object(n.createContext)(O),h=function(){var e=Object(n.useState)(O.prayed),t=Object(o.a)(e,2),a=t[0],c=t[1];return{prayed:a,updatePrayed:Object(n.useCallback)((function(e){c(e)}),[])}},x={myGuild:"",updateMyGuild:function(){}},C=Object(n.createContext)(x),k=a(141),S=a(143),w=a(154),G=a(159),P=a(140),L=a(155),M=[{value:"1",label:"1\u4f53\u76ee"},{value:"1.2",label:"2\u4f53\u76ee"},{value:"1.4",label:"3\u4f53\u76ee"},{value:"1.6",label:"4\u4f53\u76ee"},{value:"1.8",label:"5\u4f53\u76ee"}],N=function(e){var t=e.minute,a=e.name,r=e.cardStyle,l=e.seedList,m=Object(i.a)((function(e){return Object(u.a)({card:{backgroundColor:r.backgroundColor,color:r.color,padding:e.spacing(2)}})}))(),s=Object(P.a)({stringify:function(e){var t=e.name.replace(/[\u30a1-\u30f6]/g,(function(e){var t=e.charCodeAt(0)-96;return String.fromCharCode(t)}));return"".concat(e.name,"_").concat(t)}}),d=Object(n.useContext)(y),b=t,f=Object(n.useState)(b),E=Object(o.a)(f,2),v=E[0],g=E[1],j=Object(n.useState)(null),O=Object(o.a)(j,2),h=O[0],x=O[1],C=Object(n.useState)(0),N=Object(o.a)(C,2),H=N[0],I=N[1],T=Object(n.useState)("1"),W=Object(o.a)(T,2),B=W[0],D=W[1];return Object(n.useEffect)((function(){if(h&&H){var e=H/+B,t=h.hp,a=Math.round(100*(e/t-1)),n=a>0?a:0;d.updatePrayed("".concat(n.toLocaleString(),"%@").concat(v))}}),[h,H,d,v,B]),c.a.createElement(k.a,{className:m.card},c.a.createElement(S.a,null,a,": ",d.prayed,l?c.a.createElement(L.a,{options:l,getOptionLabel:function(e){return e.name},getOptionSelected:function(e,t){return e.name===t.name},filterOptions:s,autoSelect:!0,onChange:function(e,a){x(a),g(t)},renderInput:function(e){return c.a.createElement(w.a,Object.assign({},e,{label:"\u30b7\u30fc\u30c9\u540d",variant:"outlined",margin:"dense"}))}}):c.a.createElement("div",null,c.a.createElement("p",null,"\u30b7\u30fc\u30c9\u60c5\u5831\u3092\u8aad\u307f\u8fbc\u307f\u4e2d")),c.a.createElement(p.a,{container:!0,spacing:2},c.a.createElement(p.a,{item:!0,xs:!0},c.a.createElement(w.a,{label:"\u30b7\u30fc\u30c9\u4f53\u529b",onChange:function(e){I(+e.target.value),g(t)},fullWidth:!0,variant:"outlined",margin:"dense"})),c.a.createElement(p.a,{item:!0,xs:4},c.a.createElement(w.a,{select:!0,variant:"outlined",margin:"dense",fullWidth:!0,label:"Wave",value:B,onChange:function(e){D(e.target.value)}},M.map((function(e){return c.a.createElement(G.a,{key:e.value,value:e.value},e.label)})))))))},H=a(4),I=a(156),T=a(160),W=a(149),B=a(145),D=a(99),$=Object(H.a)({root:{color:m.a[400],"&$checked":{color:m.a[600]}},checked:{}})((function(e){return c.a.createElement(I.a,e)})),A=Object(H.a)({root:{color:d.a[400],"&$checked":{color:d.a[600]}},checked:{}})((function(e){return c.a.createElement(I.a,e)})),z=Object(H.a)({root:{color:f.a[400],"&$checked":{color:f.a[600]}},checked:{}})((function(e){return c.a.createElement(I.a,e)})),J=Object(H.a)({root:{color:E.a[400],"&$checked":{color:E.a[600]}},checked:{}})((function(e){return c.a.createElement(I.a,e)})),R=function(){var e=Object(n.useContext)(C),t=Object(n.useState)(""),a=Object(o.a)(t,2),r=a[0],l=a[1];return Object(n.useEffect)((function(){e.updateMyGuild(r)}),[e,r]),c.a.createElement("div",null,c.a.createElement(B.a,{component:"fieldset"},c.a.createElement(D.a,{component:"legend",style:{color:"white"}},"\u81ea\u5206\u306e\u30ae\u30eb\u30c9"),c.a.createElement(T.a,{row:!0,"aria-label":"my-guild",name:"my-guild",value:r,onChange:function(t){l(t.target.value),e.updateMyGuild(r)}},c.a.createElement(W.a,{value:"yellow",control:c.a.createElement($,null),label:"\u5de6\u4e0a(\u9ec4)"}),c.a.createElement(W.a,{value:"red",control:c.a.createElement(A,null),label:"\u53f3\u4e0a(\u8d64)"}),c.a.createElement(W.a,{value:"blue",control:c.a.createElement(z,null),label:"\u5de6\u4e0b(\u9752)"}),c.a.createElement(W.a,{value:"green",control:c.a.createElement(J,null),label:"\u53f3\u4e0b(\u7dd1)"}))))},K=a(62),Y=a.n(K),_=function(){var e=Object(n.useContext)(j),t=Object(n.useState)(0),a=Object(o.a)(t,2),r=a[0],l=a[1];Object(n.useEffect)((function(){var e=(new Date).getTime(),t=["https://ntp-a1.nict.go.jp/cgi-bin/json","https://ntp-b1.nict.go.jp/cgi-bin/json"][Math.floor(2*Math.random())];fetch("".concat(t,"?").concat(e/1e3)).then((function(e){return e.json()})).then((function(t){l(1e3*t.st+(e-1e3*t.it)/2-e)}))}),[]);var i=Object(n.useState)(""),u=Object(o.a)(i,2),m=u[0],s=u[1];return Object(n.useEffect)((function(){var e=setInterval((function(){return s(Y()((new Date).getTime()+r).format("HH\u6642 mm\u5206 ss.SS\u79d2"))}),10);return function(){return clearInterval(e)}}),[r]),Object(n.useEffect)((function(){var t=m.match(/\d{2}\u5206/g);e.updateTimer(t?t[0]:"")}),[e,m]),c.a.createElement("div",null,c.a.createElement("p",null,"\u73fe\u5728\u6642\u523b(JST): ",m))},q=a(146),F=a(158),Q=a(144),V=a(150),U=a(64),X=a.n(U),Z=a(151),ee=a(63),te=a.n(ee),ae=Object(i.a)((function(e){return Object(u.a)({root:{padding:"0 0 1em"},text:{borderColor:"white",color:"white"}})})),ne=function(e){var t=e.value,a=ae(),r=Object(n.useState)(!1),l=Object(o.a)(r,2),i=l[0],u=l[1];return c.a.createElement("div",{className:a.root},c.a.createElement(B.a,{variant:"outlined",fullWidth:!0},c.a.createElement(q.a,{htmlFor:"summery",className:a.text},"\u30b3\u30d4\u30da\u7528"),c.a.createElement(F.a,{className:a.text,id:"summery",margin:"dense",type:"text",value:t,startAdornment:c.a.createElement(V.a,{position:"start"},c.a.createElement(Z.a,{arrow:!0,open:i,onClose:function(){u(!1)},disableHoverListener:!0,placement:"top",title:"copied"},c.a.createElement(te.a,{text:t},c.a.createElement(Q.a,{disabled:""===t,onClick:function(){u(!0)}},c.a.createElement(X.a,{className:a.text})))))})))},ce=Object(i.a)((function(e){return Object(u.a)({app:{backgroundColor:"#282c34",color:"white"},appHeader:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",fontSize:"calc(10px + 2vmin)"},appMain:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100vh",fontSize:"calc(10px + 2vmin)"},container:{flexGrow:1},text:{color:"white"}})})),re={guildY:{backgroundColor:m.a[100],color:s.a[600]},guildR:{backgroundColor:d.a[100],color:d.a[900]},gate:{backgroundColor:b.a[200],color:b.a[900]},guildB:{backgroundColor:f.a[100],color:f.a[900]},guildG:{backgroundColor:E.a[100],color:E.a[900]}},le=function(){var e=ce(),t=Object(n.useState)(null),a=Object(o.a)(t,2),r=a[0],l=a[1];Object(n.useEffect)((function(){fetch("https://script.google.com/macros/s/AKfycbyt5WB_eEoamADwxePfKQxk3umq5khBbCeaIdRnLOTCeVHzkj0/exec").then((function(e){return e.json()})).then((function(e){l(e)}))}),[]);var i=function(){var e=Object(n.useState)(g.timer),t=Object(o.a)(e,2),a=t[0],c=t[1];return{timer:a,updateTimer:Object(n.useCallback)((function(e){c(e)}),[])}}(),u=h(),m=h(),s=h(),d=h(),b=h(),f=function(){var e=Object(n.useState)(x.myGuild),t=Object(o.a)(e,2),a=t[0],c=t[1];return{myGuild:a,updateMyGuild:Object(n.useCallback)((function(e){c(e)}),[])}}(),E=Object(n.useState)(""),O=Object(o.a)(E,2),k=O[0],S=O[1];return Object(n.useEffect)((function(){var e="yellow"!==f.myGuild?"\u5de6\u4e0a(\u9ec4):".concat(u.prayed," "):"",t="red"!==f.myGuild?"\u53f3\u4e0a(\u8d64):".concat(m.prayed," "):"",a="\u30b2\u30fc\u30c8(\u9580):".concat(s.prayed," "),n="blue"!==f.myGuild?"\u5de6\u4e0b(\u9752):".concat(d.prayed," "):"",c="green"!==f.myGuild?"\u53f3\u4e0b(\u7dd1):".concat(b.prayed):"",r="".concat(e).concat(t).concat(a).concat(n).concat(c);S(r)}),[s.prayed,d.prayed,b.prayed,m.prayed,u.prayed,f.myGuild]),c.a.createElement("div",{className:e.app},c.a.createElement("div",{className:e.appHeader},c.a.createElement("p",null,"\u30e1\u30eb\u30b9\u30c8\u304a\u7948\u308a\u8a08\u7b97\u6a5f")),c.a.createElement("main",{className:e.appMain},c.a.createElement(v.a,{className:e.container},c.a.createElement(j.Provider,{value:i},c.a.createElement(_,null)),c.a.createElement(C.Provider,{value:f},c.a.createElement(R,null)),c.a.createElement(ne,{value:k}),c.a.createElement(p.a,{container:!0,spacing:3},c.a.createElement(p.a,{item:!0,xs:12,sm:5},c.a.createElement(y.Provider,{value:u},c.a.createElement(N,{name:"\u5de6\u4e0a(\u9ec4)",cardStyle:re.guildY,minute:i.timer,seedList:r}))),c.a.createElement(p.a,{item:!0,xs:!1,sm:2}),c.a.createElement(p.a,{item:!0,xs:12,sm:5},c.a.createElement(y.Provider,{value:m},c.a.createElement(N,{name:"\u53f3\u4e0a(\u8d64)",cardStyle:re.guildR,minute:i.timer,seedList:r})))),c.a.createElement(p.a,{container:!0,spacing:3},c.a.createElement(p.a,{item:!0,xs:!1,sm:3}),c.a.createElement(p.a,{item:!0,xs:12,sm:6},c.a.createElement(y.Provider,{value:s},c.a.createElement(N,{name:"\u30b2\u30fc\u30c8(\u9580)",cardStyle:re.gate,minute:i.timer,seedList:r}))),c.a.createElement(p.a,{item:!0,xs:!1,sm:3})),c.a.createElement(p.a,{container:!0,spacing:3},c.a.createElement(p.a,{item:!0,xs:12,sm:5},c.a.createElement(y.Provider,{value:d},c.a.createElement(N,{name:"\u5de6\u4e0b(\u9752)",cardStyle:re.guildB,minute:i.timer,seedList:r}))),c.a.createElement(p.a,{item:!0,xs:!1,sm:2}),c.a.createElement(p.a,{item:!0,xs:12,sm:5},c.a.createElement(y.Provider,{value:b},c.a.createElement(N,{name:"\u53f3\u4e0b(\u7dd1)",cardStyle:re.guildG,minute:i.timer,seedList:r}))))),c.a.createElement("span",null,"tw: @twanenko")))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(le,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[78,1,2]]]);
//# sourceMappingURL=main.ac15f26b.chunk.js.map