(this.webpackJsonpmercalc=this.webpackJsonpmercalc||[]).push([[0],{62:function(e,t,a){e.exports=a(73)},67:function(e,t,a){},73:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(10),l=a.n(r),o=(a(67),a(12)),u=a(113),i=a(130),m=a(123),d=a(124),s=a(39),f=a(38),b=a(40),p=a(41),E=a(126),v=a(125),g={timer:"",updateTimer:function(){}},j=Object(n.createContext)(g),O={prayed:"0%",updatePrayed:function(){}},y=Object(n.createContext)(O),h=function(){var e=Object(n.useState)(O.prayed),t=Object(o.a)(e,2),a=t[0],c=t[1];return{prayed:a,updatePrayed:Object(n.useCallback)((function(e){c(e)}),[])}},x={myGuild:"",updateMyGuild:function(){}},C=Object(n.createContext)(x),k=a(117),S=a(119),w=a(127),G=a(116),P=a(128),L=function(e){var t=e.minute,a=e.name,r=e.cardStyle,l=e.seedList,m=Object(u.a)((function(e){return Object(i.a)({card:{backgroundColor:r.backgroundColor,color:r.color,padding:e.spacing(2)}})}))(),d=Object(G.a)({stringify:function(e){var t=e.name.replace(/[\u30a1-\u30f6]/g,(function(e){var t=e.charCodeAt(0)-96;return String.fromCharCode(t)}));return"".concat(e.name,"_").concat(t)}}),s=Object(n.useContext)(y),f=t,b=Object(n.useState)(f),p=Object(o.a)(b,2),E=p[0],v=p[1],g=Object(n.useState)(null),j=Object(o.a)(g,2),O=j[0],h=j[1],x=Object(n.useState)(0),C=Object(o.a)(x,2),L=C[0],M=C[1];return Object(n.useEffect)((function(){if(O&&L){var e=O.hp,t=Math.round(100*(L/e-1));t<0?s.updatePrayed("0%(".concat(E,")")):s.updatePrayed("".concat(t.toLocaleString(),"%(").concat(E,")"))}}),[O,L,s,E]),c.a.createElement("div",null,c.a.createElement(k.a,{className:m.card},c.a.createElement(S.a,null,a,": ",s.prayed,l?c.a.createElement(P.a,{options:l,getOptionLabel:function(e){return e.name},getOptionSelected:function(e,t){return e.name===t.name},filterOptions:d,autoSelect:!0,onChange:function(e,a){h(a),v(t)},renderInput:function(e){return c.a.createElement(w.a,Object.assign({},e,{label:"\u30b7\u30fc\u30c9\u540d",variant:"outlined",margin:"dense"}))}}):c.a.createElement("div",null,c.a.createElement("p",null,"\u30b7\u30fc\u30c9\u60c5\u5831\u3092\u8aad\u307f\u8fbc\u307f\u4e2d")),c.a.createElement(w.a,{label:"\u30e2\u30f3\u30b9\u30bf\u30fc\u306e\u4f53\u529b",onChange:function(e){M(+e.target.value),v(t)},fullWidth:!0,variant:"outlined",margin:"dense"}))))},M=a(4),I=a(129),N=a(132),B=a(133),H=a(131),T=a(122),D=Object(M.a)({root:{color:m.a[400],"&$checked":{color:m.a[600]}},checked:{}})((function(e){return c.a.createElement(I.a,e)})),W=Object(M.a)({root:{color:s.a[400],"&$checked":{color:s.a[600]}},checked:{}})((function(e){return c.a.createElement(I.a,e)})),$=Object(M.a)({root:{color:b.a[400],"&$checked":{color:b.a[600]}},checked:{}})((function(e){return c.a.createElement(I.a,e)})),z=Object(M.a)({root:{color:p.a[400],"&$checked":{color:p.a[600]}},checked:{}})((function(e){return c.a.createElement(I.a,e)})),A=function(){var e=Object(n.useContext)(C),t=Object(n.useState)(""),a=Object(o.a)(t,2),r=a[0],l=a[1];return Object(n.useEffect)((function(){e.updateMyGuild(r)}),[e,r]),c.a.createElement("div",null,c.a.createElement(H.a,{component:"fieldset"},c.a.createElement(T.a,{component:"legend",style:{color:"white"}},"\u81ea\u5206\u306e\u30ae\u30eb\u30c9"),c.a.createElement(N.a,{row:!0,"aria-label":"my-guild",name:"my-guild",value:r,onChange:function(t){l(t.target.value),e.updateMyGuild(r)}},c.a.createElement(B.a,{value:"yellow",control:c.a.createElement(D,null),label:"\u5de6\u4e0a(\u9ec4)"}),c.a.createElement(B.a,{value:"red",control:c.a.createElement(W,null),label:"\u53f3\u4e0a(\u8d64)"}),c.a.createElement(B.a,{value:"blue",control:c.a.createElement($,null),label:"\u5de6\u4e0b(\u9752)"}),c.a.createElement(B.a,{value:"green",control:c.a.createElement(z,null),label:"\u53f3\u4e0b(\u7dd1)"}))))},R=a(51),J=a.n(R),K=function(){var e=Object(n.useContext)(j),t=Object(n.useState)(0),a=Object(o.a)(t,2),r=a[0],l=a[1];Object(n.useEffect)((function(){var e=(new Date).getTime(),t=["https://ntp-a1.nict.go.jp/cgi-bin/json","https://ntp-b1.nict.go.jp/cgi-bin/json"][Math.floor(2*Math.random())];fetch("".concat(t,"?").concat(e/1e3)).then((function(e){return e.json()})).then((function(t){l(1e3*t.st+(e-1e3*t.it)/2-e)}))}),[]);var u=Object(n.useState)(""),i=Object(o.a)(u,2),m=i[0],d=i[1];return Object(n.useEffect)((function(){var e=setInterval((function(){return d(J()((new Date).getTime()+r).format("HH\u6642 mm\u5206 ss.SS\u79d2"))}),10);return function(){return clearInterval(e)}}),[r]),Object(n.useEffect)((function(){var t=m.match(/\d{2}\u5206/g);e.updateTimer(t?t[0]:"")}),[e,m]),c.a.createElement("div",null,c.a.createElement("p",null,"\u73fe\u5728\u6642\u523b: ",m))},Y=Object(u.a)((function(e){return Object(i.a)({root:{borderColor:"white"},text:{borderColor:"white",color:"white"}})})),_=function(e){var t=e.value,a=Y();return c.a.createElement("div",null,c.a.createElement(w.a,{className:a.root,InputLabelProps:{className:a.text},label:"\u30b3\u30d4\u30da\u7528",fullWidth:!0,variant:"outlined",margin:"dense",InputProps:{className:a.text},value:t}))},q=Object(u.a)((function(e){return Object(i.a)({app:{backgroundColor:"#282c34",color:"white"},appHeader:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",fontSize:"calc(10px + 2vmin)"},appMain:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100vh",fontSize:"calc(10px + 2vmin)"},container:{flexGrow:1},text:{color:"white"}})})),Q={guildY:{backgroundColor:m.a[100],color:d.a[600]},guildR:{backgroundColor:s.a[100],color:s.a[900]},gate:{backgroundColor:f.a[200],color:f.a[900]},guildB:{backgroundColor:b.a[100],color:b.a[900]},guildG:{backgroundColor:p.a[100],color:p.a[900]}},V=function(){var e=q(),t=Object(n.useState)(null),a=Object(o.a)(t,2),r=a[0],l=a[1];Object(n.useEffect)((function(){fetch("https://script.google.com/macros/s/AKfycbyt5WB_eEoamADwxePfKQxk3umq5khBbCeaIdRnLOTCeVHzkj0/exec").then((function(e){return e.json()})).then((function(e){l(e)}))}),[]);var u=function(){var e=Object(n.useState)(g.timer),t=Object(o.a)(e,2),a=t[0],c=t[1];return{timer:a,updateTimer:Object(n.useCallback)((function(e){c(e)}),[])}}(),i=h(),m=h(),d=h(),s=h(),f=h(),b=function(){var e=Object(n.useState)(x.myGuild),t=Object(o.a)(e,2),a=t[0],c=t[1];return{myGuild:a,updateMyGuild:Object(n.useCallback)((function(e){c(e)}),[])}}(),p=Object(n.useState)(""),O=Object(o.a)(p,2),k=O[0],S=O[1];return Object(n.useEffect)((function(){var e="yellow"!==b.myGuild?"\u5de6\u4e0a(\u9ec4):".concat(i.prayed," "):"",t="red"!==b.myGuild?"\u53f3\u4e0a(\u8d64):".concat(m.prayed," "):"",a="\u30b2\u30fc\u30c8(\u9580):".concat(d.prayed," "),n="blue"!==b.myGuild?"\u5de6\u4e0b(\u9752):".concat(s.prayed," "):"",c="green"!==b.myGuild?"\u53f3\u4e0b(\u7dd1):".concat(f.prayed):"",r="".concat(e).concat(t).concat(a).concat(n).concat(c);S(r)}),[d.prayed,s.prayed,f.prayed,m.prayed,i.prayed,b.myGuild]),c.a.createElement("div",{className:e.app},c.a.createElement("div",{className:e.appHeader},c.a.createElement("p",null,"\u30e1\u30eb\u30b9\u30c8\u304a\u7948\u308a\u8a08\u7b97\u6a5f")),c.a.createElement("main",{className:e.appMain},c.a.createElement(v.a,{className:e.container},c.a.createElement(j.Provider,{value:u},c.a.createElement(K,null)),c.a.createElement(C.Provider,{value:b},c.a.createElement(A,null)),c.a.createElement(_,{value:k}),c.a.createElement(E.a,{container:!0,spacing:3},c.a.createElement(E.a,{item:!0,xs:!0},c.a.createElement(y.Provider,{value:i},c.a.createElement(L,{name:"\u5de6\u4e0a(\u9ec4)",cardStyle:Q.guildY,minute:u.timer,seedList:r}))),c.a.createElement(E.a,{item:!0,xs:!0}),c.a.createElement(E.a,{item:!0,xs:!0},c.a.createElement(y.Provider,{value:m},c.a.createElement(L,{name:"\u53f3\u4e0a(\u8d64)",cardStyle:Q.guildR,minute:u.timer,seedList:r})))),c.a.createElement(E.a,{container:!0,spacing:3},c.a.createElement(E.a,{item:!0,xs:!0}),c.a.createElement(E.a,{item:!0,xs:!0},c.a.createElement(y.Provider,{value:d},c.a.createElement(L,{name:"\u30b2\u30fc\u30c8(\u9580)",cardStyle:Q.gate,minute:u.timer,seedList:r}))),c.a.createElement(E.a,{item:!0,xs:!0})),c.a.createElement(E.a,{container:!0,spacing:3},c.a.createElement(E.a,{item:!0,xs:!0},c.a.createElement(y.Provider,{value:s},c.a.createElement(L,{name:"\u5de6\u4e0b(\u9752)",cardStyle:Q.guildB,minute:u.timer,seedList:r}))),c.a.createElement(E.a,{item:!0,xs:!0}),c.a.createElement(E.a,{item:!0,xs:!0},c.a.createElement(y.Provider,{value:f},c.a.createElement(L,{name:"\u53f3\u4e0b(\u7dd1)",cardStyle:Q.guildG,minute:u.timer,seedList:r}))))),c.a.createElement("span",null,"tw: @twanenko")))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(V,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[62,1,2]]]);
//# sourceMappingURL=main.1ab5759e.chunk.js.map